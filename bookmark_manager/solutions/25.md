# Solution

[Back to Challenge](../26_password_recovery.md)

Write a test for giving users the ability to ask for password recovery
```ruby
feature 'Resetting Password' do
 scenario 'When I forget my password I can see a link to reset' do
   visit '/sessions/new'
   click_link 'I forgot my password'
   expect(page).to have_content("Please enter your email address")
   expect(current_path).to eq "/users/recover"
 end
end
```

```ruby
 # app/views/sessions/new.erb
 ...
 
 <a href="/users/recover">I forgot my password</a>
```

```ruby
  # app/controllers/users.rb
  ...
  
  get '/users/recover' do
    "Please enter your email address"
  end
```

Allowing user to submit their email address for recovery 

```ruby
scenario 'When I enter my email I am told to check my inbox' do
   visit '/users/recover'
   fill_in :email, with: "alice@example.com"
   click_button "Submit"
   expect(page).to have_content "Thanks, Please check your inbox for the link."
 end
 ```
 
 ```html
   # app/views/users/recover.erb
   
   <form action="/users/recover" method="post">
     <label for="email"> Please enter your email address
     <input type="email" name="email" required>
     <input type="submit" value="Submit">
   </label>
</form>
 ```
 
 ```ruby
   # app/controllers/users.erb
  
   post '/users/recover' do
     erb :'users/acknowledgement'
   end
 ```
 
 ```html
   # app/views/users/acknowledgement
   Thanks, Please check your inbox for the link.
  ```
[next challenge](../26_password_recovery.md)
