# Solution

[Back to Challenge](../09_creating_a_link_model.md)

Let's create the first model in `/app/models/link.rb`.

```ruby
require 'data_mapper'
require 'dm-postgres-adapter'
DataMapper.setup(:default, "postgres://localhost/bookmark_manager_development")

# This class corresponds to a table in the database
# We can use it to manipulate the data
class Link

  # adds datamapper functionality to this class
  include DataMapper::Resource

  # these property declarations set the column headers in the Link table
  property :id,     Serial # Serial means that it will be auto-incremented for every record
  property :title,  String
  property :url,    String

end

DataMapper.finalize
```

This class prescribes a relationship between a table in the database (which will be called 'links') and instances of `Link`.

Running our tests now should kick up the following error:
```
Failures:

 1) Viewing links I can see existing links on the links page
    Failure/Error: visit '/links'
    ArgumentError:
      rack-test requires a rack application, but none was given
    # ./spec/features/viewing_links_spec.rb:4:in `block (2 levels) in <top (required)>'

Finished in 0.00136 seconds (files took 0.37153 seconds to load)
1 example, 1 failure
```

[next challenge](../10_creating_a_modular_sinatra_app.md)
